{% extends 'base.html' %}
{% load static %}
{% block title %}Qubits HRMS | Complate Profile List {% endblock %}

{% block content %}
<div class="container py-5">
    <h2 class="mb-4 text-center fw-bold">üßæ Complete Your Employee Profile</h2>

    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    {% endif %}

    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- Tabs -->
        <ul class="nav nav-tabs mb-4" id="profileTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab">üë§ Profile</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="education-tab" data-bs-toggle="tab" data-bs-target="#education" type="button" role="tab">üéì Education</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="experience-tab" data-bs-toggle="tab" data-bs-target="#experience" type="button" role="tab">üíº Experience</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="bank-tab" data-bs-toggle="tab" data-bs-target="#bank" type="button" role="tab">üè¶ Bank</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="emergency-tab" data-bs-toggle="tab" data-bs-target="#emergency" type="button" role="tab">üö® Emergency</button>
            </li>
        </ul>

        <div class="tab-content" id="profileTabContent">

            <!-- Profile -->
            <div class="tab-pane fade show active" id="profile" role="tabpanel">
                <div class="card shadow-sm mb-4">
                    <div class="card-header bg-primary text-white fw-bold">üë§ Basic Profile Info</div>
                    <div class="card-body">
                        {% for field in profile_form.visible_fields %}
                            <div class="mb-3">
                                <label class="form-label">{{ field.label }}</label>
                                {{ field }}
                                {% if field.errors %}
                                    <small class="text-danger">{{ field.errors.0 }}</small>
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- Education -->
            <div class="tab-pane fade" id="education" role="tabpanel">
                <div class="card shadow-sm mb-4">
                    <div class="card-header bg-success text-white fw-bold">üéì Education Details</div>
                    <div class="card-body">
                        {% for field in education_form.visible_fields %}
                            <div class="mb-3">
                                <label class="form-label">{{ field.label }}</label>
                                {{ field }}
                                {% if field.errors %}
                                    <small class="text-danger">{{ field.errors.0 }}</small>
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- Experience -->
            <div class="tab-pane fade" id="experience" role="tabpanel">
                <div class="card shadow-sm mb-4">
                    <div class="card-header bg-warning text-dark fw-bold">üíº Work Experience</div>
                    <div class="card-body">
                        {% for field in experience_form.visible_fields %}
                            <div class="mb-3">
                                <label class="form-label">{{ field.label }}</label>
                                {{ field }}
                                {% if field.errors %}
                                    <small class="text-danger">{{ field.errors.0 }}</small>
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- Bank -->
            <div class="tab-pane fade" id="bank" role="tabpanel">
                <div class="card shadow-sm mb-4">
                    <div class="card-header bg-info text-white fw-bold">üè¶ Bank Information</div>
                    <div class="card-body">
                        {% for field in bank_form.visible_fields %}
                            <div class="mb-3">
                                <label class="form-label">{{ field.label }}</label>
                                {{ field }}
                                {% if field.errors %}
                                    <small class="text-danger">{{ field.errors.0 }}</small>
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- Emergency -->
            <div class="tab-pane fade" id="emergency" role="tabpanel">
                <div class="card shadow-sm mb-4">
                    <div class="card-header bg-danger text-white fw-bold">üö® Emergency Contact</div>
                    <div class="card-body">
                        {% for field in emergency_form.visible_fields %}
                            <div class="mb-3">
                                <label class="form-label">{{ field.label }}</label>
                                {{ field }}
                                {% if field.errors %}
                                    <small class="text-danger">{{ field.errors.0 }}</small>
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>

        <!-- Submit -->
        <div class="text-center mt-4">
            <button type="submit" class="btn btn-lg btn-success px-5">
                <i class="bi bi-check-circle me-2"></i>Submit Profile
            </button>
        </div>
    </form>
</div>

<style>
    .form-label {
        font-weight: 600;
        font-size: 14px;
    }
    .form-control {
        font-size: 14px;
    }
</style>

<!-- Bootstrap JS for tab functionality -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}
